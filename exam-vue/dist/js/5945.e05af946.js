"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[5945],{5945:function(e,s,o){o.r(s),o.d(s,{default:function(){return h}});var t=function(){var e=this,s=e._self._c;return s("div",[s("el-dialog",{attrs:{title:"分配角色",width:"30%",visible:e.showDialog,"before-close":e.handleClose},on:{"update:visible":function(s){e.showDialog=s}},scopedSlots:e._u([{key:"footer",fn:function(){return[s("span",{staticClass:"dialog-footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确认")]),s("el-button",{on:{click:e.handleClose}},[e._v("取消")])],1)]},proxy:!0}])},[s("el-form",{attrs:{model:e.form,"label-width":"100px"}},[s("el-checkbox-group",{model:{value:e.form.checkedRoles,callback:function(s){e.$set(e.form,"checkedRoles",s)},expression:"form.checkedRoles"}},e._l(e.form.roleList,(function(o){return s("el-checkbox",{key:o.id,attrs:{label:o.id,name:"checkedRoles"}},[e._v(e._s(o.name))])})),1)],1)],1)],1)},l=[],i=(o(7658),o(7877)),r={props:{id:{type:Number,default:-1,required:!0},showDialog:{type:Boolean,default:!1,required:!0},userRoleList:{type:Array}},data(){return{form:{id:-1,roleList:[],checkedRoles:[]}}},watch:{id:function(e,s){-1!=e&&this.search(e)},userRoleList:{handler(e,s){e.forEach((e=>{this.form.checkedRoles.push(e.id)}))},deep:!0,immediate:!0}},methods:{search(){i.Z.roleList().then((e=>{200==e.code?this.form.roleList=e.data.roleList:(this.$message.error(e.message),this.handleClose())}))},handleClose(){this.form.checkedRoles=[],this.$emit("close")},handleConfirm(){i.Z.editUserRole(this.id,this.form.checkedRoles).then((e=>{200==e.code?(this.$message.success("修改成功"),this.$emit("initUserList"),this.handleClose()):this.$message.error(e.message)}))}}},a=r,c=o(1001),n=(0,c.Z)(a,t,l,!1,null,"4f3761bf",null),h=n.exports}}]);
//# sourceMappingURL=5945.e05af946.js.map