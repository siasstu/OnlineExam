{"version":3,"file":"js/1979.cf3afdeb.js","mappings":"mJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,IAAM,MAAM,MAAQ,OAAO,OAAS,GAAG,QAAUJ,EAAIK,cAAc,MAAQ,MAAM,eAAeL,EAAIM,aAAaC,GAAG,CAAC,iBAAiB,SAASC,GAAQR,EAAIK,cAAcG,CAAM,GAAGC,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACV,EAAG,OAAO,CAACW,YAAY,iBAAiB,CAACX,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWG,GAAG,CAAC,MAAQP,EAAIc,gBAAgB,CAACd,EAAIe,GAAG,QAAQb,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQP,EAAIM,cAAc,CAACN,EAAIe,GAAG,SAAS,GAAG,EAAEC,OAAM,MAAS,CAACd,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQJ,EAAIiB,SAAS,cAAc,UAAU,CAACf,EAAG,UAAU,CAACgB,IAAI,OAAOd,MAAM,CAAC,KAAOJ,EAAImB,SAAS,gBAAgB,GAAG,qBAAqB,GAAG,WAAW,KAAK,oBAAoB,GAAG,kBAAiB,EAAK,MAAQnB,EAAIoB,cAAcX,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,UAAS,KAAES,EAAI,KAAEC,IAAQ,OAAOpB,EAAG,OAAO,CAACW,YAAY,oBAAoB,CAACX,EAAG,OAAO,CAACF,EAAIe,GAAGf,EAAIuB,GAAGF,EAAKG,UAAUtB,EAAG,OAAO,CAACF,EAAIe,GAAGf,EAAIuB,GAAGD,EAAKG,YAAY,QAAQ,IAAI,IAAI,EACj/B,EACIC,EAAkB,G,UCqCtB,GACAC,MAAAA,CACAC,GAAAA,CACAC,KAAAA,OACAC,SAAAA,EACAC,UAAAA,GAEA1B,cAAAA,CACAwB,KAAAA,QACAC,SAAAA,EACAC,UAAAA,IAGAT,OACA,OACAH,SAAAA,GACAF,SAAAA,CAAAW,GAAAA,MACAR,aAAAA,CACAY,SAAAA,WACAR,MAAAA,QAGA,EACAS,MAAAA,CACAL,GAAAA,SAAAA,EAAAA,GACA,cACA,GAEAM,QAAAA,CACAC,OAAAA,GACAC,EAAAA,EAAAA,WAAAA,MAAAA,IACA,wBAEAA,EAAAA,EAAAA,aAAAA,GAAAA,MAAAA,IACA,yCAEA,EACA9B,cACA,mBACA,EACAQ,gBACA,uCACAsB,EAAAA,EAAAA,aAAAA,KAAAA,GAAAA,GAAAA,MAAAA,IACA,aACA,8BACA,2BACA,oBAEA,8BACA,GAEA,IC1FiS,I,UCQ7RC,GAAY,OACd,EACAtC,EACA2B,GACA,EACA,KACA,KACA,MAIF,EAAeW,EAAiB,O","sources":["webpack://app/./src/views/admin/sys/role/components/RolePerDialog.vue","webpack://app/src/views/admin/sys/role/components/RolePerDialog.vue","webpack://app/./src/views/admin/sys/role/components/RolePerDialog.vue?b23b","webpack://app/./src/views/admin/sys/role/components/RolePerDialog.vue?5b75"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-dialog',{attrs:{\"top\":\"5px\",\"title\":\"分配权限\",\"center\":\"\",\"visible\":_vm.showPerDialog,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.showPerDialog=$event}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('span',{staticClass:\"dialog-footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleConfirm}},[_vm._v(\"确认\")]),_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取消\")])],1)]},proxy:true}])},[_c('el-form',{attrs:{\"model\":_vm.menuForm,\"label-width\":\"100px\"}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.treeData,\"show-checkbox\":\"\",\"default-expand-all\":\"\",\"node-key\":\"id\",\"highlight-current\":\"\",\"check-strictly\":true,\"props\":_vm.defaultProps},scopedSlots:_vm._u([{key:\"default\",fn:function({ node, data }){return _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_vm._v(_vm._s(node.label))]),_c('span',[_vm._v(_vm._s(data.remark))])])}}])})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-dialog\r\n      top=\"5px\"\r\n      title=\"分配权限\"\r\n      center\r\n      :visible.sync=\"showPerDialog\"\r\n      width=\"30%\"\r\n       :before-close=\"handleClose\"\r\n    >\r\n      <el-form :model=\"menuForm\" label-width=\"100px\">\r\n        <el-tree\r\n          :data=\"treeData\"\r\n          show-checkbox\r\n          default-expand-all\r\n          node-key=\"id\"\r\n          ref=\"tree\"\r\n          highlight-current\r\n          :check-strictly=\"true\"\r\n          :props=\"defaultProps\"\r\n        >\r\n          <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n            <span>{{ node.label }}</span>\r\n            <span>{{ data.remark }}</span>\r\n          </span>\r\n        </el-tree>\r\n      </el-form>\r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button type=\"primary\" @click=\"handleConfirm\">确认</el-button>\r\n          <el-button @click=\"handleClose\">取消</el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport userApi from '@/api'\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      default: -1,\r\n      required: true\r\n    },\r\n    showPerDialog: {\r\n      type: Boolean,\r\n      default: false,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      treeData: [],\r\n      menuForm: { id: null },\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    id: function (newVal, oldVal) {\r\n      this.search(newVal)\r\n    }\r\n  },\r\n  methods: {\r\n    search(id) {\r\n      userApi.munuList().then((resp) => {\r\n        this.treeData = resp.data\r\n      })\r\n      userApi.roleMenuList(id).then((resp) => {\r\n        this.$refs.tree.setCheckedKeys(resp.data)\r\n      })\r\n    },\r\n    handleClose() {\r\n      this.$emit('close')\r\n    },\r\n    handleConfirm() {\r\n      let list = this.$refs.tree.getCheckedKeys()\r\n      userApi.editRoleMenu(this.id, list).then((resp) => {\r\n        if (resp.code == 200) {\r\n          this.$message.success('修改成功')\r\n          this.$emit('initRoleList')\r\n          this.handleClose()\r\n        } else {\r\n          this.$message.error(resp.message)\r\n        }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.custom-tree-node {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-size: 14px;\r\n  padding-right: 8px;\r\n}\r\n</style>","import mod from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RolePerDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RolePerDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RolePerDialog.vue?vue&type=template&id=74ec071c&\"\nimport script from \"./RolePerDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./RolePerDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RolePerDialog.vue?vue&type=style&index=0&id=74ec071c&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","showPerDialog","handleClose","on","$event","scopedSlots","_u","key","fn","staticClass","handleConfirm","_v","proxy","menuForm","ref","treeData","defaultProps","node","data","_s","label","remark","staticRenderFns","props","id","type","default","required","children","watch","methods","search","userApi","component"],"sourceRoot":""}