"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[1979],{1979:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{top:"5px",title:"分配权限",center:"",visible:e.showPerDialog,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.showPerDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[t("span",{staticClass:"dialog-footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确认")]),t("el-button",{on:{click:e.handleClose}},[e._v("取消")])],1)]},proxy:!0}])},[t("el-form",{attrs:{model:e.menuForm,"label-width":"100px"}},[t("el-tree",{ref:"tree",attrs:{data:e.treeData,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"","check-strictly":!0,props:e.defaultProps},scopedSlots:e._u([{key:"default",fn:function({node:s,data:a}){return t("span",{staticClass:"custom-tree-node"},[t("span",[e._v(e._s(s.label))]),t("span",[e._v(e._s(a.remark))])])}}])})],1)],1)],1)},l=[],r=s(7877),n={props:{id:{type:Number,default:-1,required:!0},showPerDialog:{type:Boolean,default:!1,required:!0}},data(){return{treeData:[],menuForm:{id:null},defaultProps:{children:"children",label:"name"}}},watch:{id:function(e,t){this.search(e)}},methods:{search(e){r.Z.munuList().then((e=>{this.treeData=e.data})),r.Z.roleMenuList(e).then((e=>{this.$refs.tree.setCheckedKeys(e.data)}))},handleClose(){this.$emit("close")},handleConfirm(){let e=this.$refs.tree.getCheckedKeys();r.Z.editRoleMenu(this.id,e).then((e=>{200==e.code?(this.$message.success("修改成功"),this.$emit("initRoleList"),this.handleClose()):this.$message.error(e.message)}))}}},o=n,i=s(1001),d=(0,i.Z)(o,a,l,!1,null,null,null),u=d.exports}}]);
//# sourceMappingURL=1979.cf3afdeb.js.map