"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[2050],{2050:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","http-request":t.uploadHttpRequest,multiple:"","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[""!==t.url?e("el-avatar",{attrs:{size:100,src:t.url}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)},s=[],l=a(7877),u={props:["currentUser"],data(){return{url:""===this.currentUser.avatar?null:"http://localhost:8088/image/userAvatar/"+this.currentUser.avatar,file:null}},methods:{handleAvatarSuccess(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload(t){const e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),this.file=t,e&&a},uploadHttpRequest(){const t=new FormData;t.append("file",this.file),l.Z.avatorEdit(t).then((t=>{this.file=null,this.$store.commit("SET_USERINFO",t.data.data)}))}}},i=u,o=a(1001),n=(0,o.Z)(i,r,s,!1,null,"5b269788",null),c=n.exports}}]);
//# sourceMappingURL=2050.dccf8670.js.map