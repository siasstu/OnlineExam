"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[7834],{8441:function(e,a,t){t.d(a,{Z:function(){return u}});var s=function(){var e=this,a=e._self._c;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,layout:e.layout,"page-sizes":e.pageSizes,total:e.total,"page-size":e.pageSize},on:{"update:currentPage":function(a){e.currentPage=a},"update:current-page":function(a){e.currentPage=a},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:pageSize":function(a){e.pageSize=a},"update:page-size":function(a){e.pageSize=a}}},"el-pagination",e.$attrs,!1))],1)},r=[],l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default(){return[5,10,20,30,50]}},queryParam:{},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get(){return this.page},set(e){this.$emit("update:page",e)}},pageSize:{get(){return this.limit},set(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange(e){this.queryParam.pageSize=e,this.$emit("pagination",this.queryParam)},handleCurrentChange(e){this.queryParam.pageIndex=e,this.$emit("pagination",this.queryParam)}}},i=l,n=t(1001),o=(0,n.Z)(i,s,r,!1,null,"fcd24848",null),u=o.exports},7834:function(e,a,t){t.r(a),t.d(a,{default:function(){return c}});var s=function(){var e=this,a=e._self._c;return a("div",[a("el-dialog",{attrs:{top:"10vh",title:"班级学生详情",center:"",visible:e.showStuDialog,"before-close":e.handleDialogClose},on:{"update:visible":function(a){e.showStuDialog=a}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParam,inline:!0}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{attrs:{placeholder:"姓名",clearable:""},model:{value:e.queryParam.realName,callback:function(a){e.$set(e.queryParam,"realName",a)},expression:"queryParam.realName"}})],1),a("el-form-item",{attrs:{label:"学号："}},[a("el-input",{attrs:{placeholder:"学号",clearable:""},model:{value:e.queryParam.username,callback:function(a){e.$set(e.queryParam,"username",a)},expression:"queryParam.username"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.search(null)}}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addStudentForm}},[e._v("添加学生")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addStudentWithClass}},[e._v("按班级导入")])],1)],1),a("el-scrollbar",{staticStyle:{height:"calc(100vh - 405px)"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"Id",width:"40"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s((e.queryParam.pageIndex-1)*e.queryParam.pageSize+(a.$index+1))+" ")]}}])}),a("el-table-column",{attrs:{prop:"username",label:"用户名",align:"center",width:"140"}}),a("el-table-column",{attrs:{prop:"realName",label:"真实姓名",align:"center",width:"130"}}),a("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160px"},scopedSlots:e._u([{key:"default",fn:function({row:t}){return[a("el-button",{staticClass:"link-left",attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.removeStudent(t.username)}}},[e._v("移出")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,queryParam:e.queryParam,page:e.queryParam.pageIndex,limit:e.queryParam.pageSize},on:{"update:page":function(a){return e.$set(e.queryParam,"pageIndex",a)},"update:limit":function(a){return e.$set(e.queryParam,"pageSize",a)},pagination:e.search}})],1)],1),a("el-dialog",{attrs:{visible:e.studentPage.showDialog,title:"添加学生",top:"3vh",width:"60%"},on:{"update:visible":function(a){return e.$set(e.studentPage,"showDialog",a)}}},[a("el-form",{attrs:{model:e.studentPage.queryParam,inline:!0}},[a("el-form-item",{attrs:{label:"学号："}},[a("el-input",{model:{value:e.studentPage.queryParam.username,callback:function(a){e.$set(e.studentPage.queryParam,"username",a)},expression:"studentPage.queryParam.username"}})],1),a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{model:{value:e.studentPage.queryParam.realName,callback:function(a){e.$set(e.studentPage.queryParam,"realName",a)},expression:"studentPage.queryParam.realName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.studentSearch(null)}}},[e._v("查询")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.studentPage.tableData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"Id",width:"50"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s((e.studentPage.queryParam.pageIndex-1)*e.studentPage.queryParam.pageSize+(a.$index+1))+" ")]}}])}),a("el-table-column",{attrs:{prop:"username",label:"学号",width:"130"}}),a("el-table-column",{attrs:{prop:"realName",label:"真实姓名",width:"130"}}),a("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号",width:"130"}}),a("el-table-column",{attrs:{prop:"phoneNumber",label:"邮箱",width:"130"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160px"},scopedSlots:e._u([{key:"default",fn:function({row:t}){return[a("el-button",{staticClass:"link-left",attrs:{size:"mini",type:"success"},on:{click:function(a){return e.addStudents(t.username)}}},[e._v("添加")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.studentPage.total>0,expression:"studentPage.total > 0"}],attrs:{total:e.studentPage.total,queryParam:e.studentPage.queryParam,page:e.studentPage.queryParam.pageIndex,limit:e.studentPage.queryParam.pageSize},on:{"update:page":function(a){return e.$set(e.studentPage.queryParam,"pageIndex",a)},"update:limit":function(a){return e.$set(e.studentPage.queryParam,"pageSize",a)},pagination:e.studentSearch}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(a){e.studentPage.showDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(a){e.studentPage.showDialog=!1}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{visible:e.showClassDialog,title:"选择班级",width:"30%"},on:{"update:visible":function(a){e.showClassDialog=a}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("span",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确认")]),a("el-button",{on:{click:e.handleClose}},[e._v("取消")])],1)]},proxy:!0}])},[a("el-form",{attrs:{model:e.form,"label-width":"100px"}},[a("el-checkbox-group",{model:{value:e.form.classList,callback:function(a){e.$set(e.form,"classList",a)},expression:"form.classList"}},e._l(e.classList,(function(t){return a("el-checkbox",{key:t.id,attrs:{label:t.id,name:"checkedRoles"}},[e._v(e._s(t.className))])})),1)],1)],1)],1)},r=[],l=t(4325),i=t(7421),n=t(8441),o={components:{Pagination:n.Z},data(){return{queryParam:{pageIndex:1,pageSize:10},showClassDialog:!1,tableData:[],total:0,studentPage:{tableData:[],queryParam:{roleId:22,pageIndex:1,pageSize:10},total:0,showDialog:!1},classList:[],form:{classList:[]}}},props:["id","showStuDialog"],watch:{id:{handler(e,a){this.search()}}},methods:{search(e){null!=e&&(this.queryParam=e),this.queryParam.classId=this.id,i.Z.getMyTeachCourseClassStudents(this.queryParam).then((e=>{this.tableData=e.data.list,this.total=e.data.total}))},removeStudent(e){i.Z.removeStudentFromClass(e,this.id).then((e=>{this.search(),this.$message.success("操作成功")}))},addStudents(e){i.Z.addStudentToClass(e,this.id).then((e=>{this.search(),this.$message.success("操作成功")}))},handleDialogClose(){this.$emit("close")},addStudentForm(){this.studentSearch(),this.studentPage.showDialog=!0},studentSearch(e){null!=e&&(this.studentPage.queryParam=e),l.Z.getStudentsByRole(this.studentPage.queryParam).then((e=>{this.studentPage.tableData=e.data.list,this.studentPage.total=e.data.total}))},addStudentWithClass(){i.Z.getClassList().then((e=>{this.classList=e.data})),this.showClassDialog=!0},handleConfirm(){i.Z.addStudentWithClass(this.form.classList,this.id).then((e=>{this.form.classList=[],this.search(),this.showClassDialog=!1,this.$message.success("导入成功")}))},handleClose(){this.showClassDialog=!1}}},u=o,d=t(1001),p=(0,d.Z)(u,s,r,!1,null,null,null),c=p.exports},4325:function(e,a,t){var s=t(4471);a["Z"]={sectionKnowsList:e=>(0,s.v_)("/api/admin/section/knows/"+e),subjectPage:e=>(0,s.v_)("/api/admin/subject/page",e),getSubjectByid:e=>(0,s.v_)("/api/admin/subject/select/"+e),subjectEdit:e=>(0,s.v_)("/api/admin/subject/edit",e),deleteSubjectById:e=>(0,s.v_)("/api/admin/subject/delete/"+e),removeSubjectByIds:e=>(0,s.v_)("/api/admin/subject/delete",e),removeKnows:e=>(0,s.v_)("/api/admin/section/knows/delete/"+e),fileUpload:e=>(0,s.Wi)("/api/admin/model/upload",e),exportUser:e=>(0,s.GR)("/api/admin/model/download",e),semesterList:()=>(0,s.v_)("/api/admin/subject/semester/list"),classPage:e=>(0,s.v_)("/api/class/page",e),loginLog:e=>(0,s.v_)("/sys/logs/login/log/page",e),operationLog:e=>(0,s.v_)("/sys/logs/operation/log/page",e),removeUserLoginLogByIds:e=>(0,s.v_)("/sys/logs/login/log/delete",e),removeUserOperationLogByIds:e=>(0,s.v_)("/sys/logs/operation/log/delete",e),getClassStudents:e=>(0,s.v_)("/api/class/stu/page",e),getStudentsByRole:e=>(0,s.v_)("/api/class/stuPage",e),getClassInfo:e=>(0,s.v_)("/api/class/"+e),removeStudentFromClass:(e,a)=>(0,s.v_)("/api/class/remove/stu/"+e+"/"+a),addStudentToClass:(e,a)=>(0,s.v_)("/api/class/add/stu/"+e+"/"+a)}},7421:function(e,a,t){var s=t(4471);a["Z"]={getMyTeachCourseClass:e=>(0,s.v_)("/api/teacher/course/class/page",e),getMyTeachCourse:e=>(0,s.v_)("/api/admin/subject/page",e),getMyTeachCourseList:()=>(0,s.v_)("/api/teacher/subject/list"),getCourseList:()=>(0,s.v_)("/api/subject/list"),getMyTeachCourseClassStudents:e=>(0,s.v_)("/api/teacher/course/stu/page",e),removeStudentFromClass:(e,a)=>(0,s.v_)("/api/teacher/remove/stu/"+e+"/"+a),addStudentToClass:(e,a)=>(0,s.v_)("/api/teacher/add/stu/"+e+"/"+a),addMyTeachCourseClass:e=>(0,s.v_)("/api/teacher/course/class/edit",e),getClassInfo:e=>(0,s.v_)("/api/teacher/course/class/"+e),addStudentWithClass:(e,a)=>(0,s.v_)("/api/teacher/add/stu/"+a,e),getClassList:()=>(0,s.v_)("/api/class/list"),getMyCourseClassList:()=>(0,s.v_)("/api/teacher/course/class/list"),questionEdit:e=>(0,s.v_)("/api/question/edit",e),questionPage:e=>(0,s.v_)("/api/question/page",e),getQuestionById:e=>(0,s.v_)("/api/question/select/"+e),delQuestionById:e=>(0,s.v_)("/api/question/delete/"+e),paperEdit:e=>(0,s.v_)("/api/exam/paper/edit",e),paperPage:e=>(0,s.v_)("/api/exam/paper/page",e),getPaperById:e=>(0,s.v_)("/api/exam/paper/select/"+e),delPaperById:e=>(0,s.v_)("/api/exam/paper/delete/"+e),selectStudentPaperAnswers:e=>(0,s.v_)("/api/admin/examPaperAnswer/answer/"+e),releaseExamPage:e=>(0,s.v_)("/api/exam/release/page",e),releaseExamEdit:e=>(0,s.v_)("/api/exam/release/edit",e),getReleaseExamById:e=>(0,s.v_)("/api/exam/release/select/"+e),selectStudentPageAnswers:e=>(0,s.v_)("/api/admin/examPaperAnswer/page",e),selectReleaseExamPaper:e=>(0,s.v_)("/api/exam/release/paper/page",e),correctPaper:e=>(0,s.v_)("/api/admin/examPaperAnswer/answer/correct",e),autoCreatePaper:e=>(0,s.v_)("/api/exam/paper/autoCreatePaper",e)}}}]);
//# sourceMappingURL=7834.12db6d70.js.map