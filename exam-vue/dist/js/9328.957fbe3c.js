"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[9328],{9328:function(e,a,t){t.r(a),t.d(a,{default:function(){return n}});var s=function(){var e=this,a=e._self._c;return a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{width:"400px",height:"420px",border:"solid 1px #ddd"}},[a("el-form",{ref:"paramData",staticStyle:{margin:"22px 0 0 20px"},attrs:{model:e.paramData,inline:!0,size:"small","label-position":"right",rules:e.rules}},[a("el-form-item",{attrs:{label:"课程：",prop:"courseId","label-width":"80px"}},[a("el-select",{attrs:{clearable:""},model:{value:e.paramData.courseId,callback:function(a){e.$set(e.paramData,"courseId",a)},expression:"paramData.courseId"}},e._l(e.courseType,(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),a("el-form-item",{attrs:{label:"单选题：","label-width":"80px"}},[a("div",{staticStyle:{width:"250px"}},[a("el-slider",{attrs:{step:1,max:20,"show-stops":""},model:{value:e.paramData.singleChoice,callback:function(a){e.$set(e.paramData,"singleChoice",a)},expression:"paramData.singleChoice"}})],1)]),a("el-form-item",{attrs:{label:"多选题：","label-width":"80px"}},[a("div",{staticStyle:{width:"250px"}},[a("el-slider",{attrs:{step:1,max:20,"show-stops":""},model:{value:e.paramData.multipleChoice,callback:function(a){e.$set(e.paramData,"multipleChoice",a)},expression:"paramData.multipleChoice"}})],1)]),a("el-form-item",{attrs:{label:"判断题：","label-width":"80px"}},[a("div",{staticStyle:{width:"250px"}},[a("el-slider",{attrs:{step:1,max:20,"show-stops":""},model:{value:e.paramData.trueFalse,callback:function(a){e.$set(e.paramData,"trueFalse",a)},expression:"paramData.trueFalse"}})],1)]),a("el-form-item",{attrs:{label:"填空题：","label-width":"80px"}},[a("div",{staticStyle:{width:"250px"}},[a("el-slider",{attrs:{step:1,max:20,"show-stops":""},model:{value:e.paramData.gapFilling,callback:function(a){e.$set(e.paramData,"gapFilling",a)},expression:"paramData.gapFilling"}})],1)]),a("el-form-item",{attrs:{label:"简答题：","label-width":"80px"}},[a("div",{staticStyle:{width:"250px"}},[a("el-slider",{attrs:{step:1,max:20,"show-stops":""},model:{value:e.paramData.shortAnswer,callback:function(a){e.$set(e.paramData,"shortAnswer",a)},expression:"paramData.shortAnswer"}})],1)])],1),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("生成试卷")])],1)],1),a("div",{staticStyle:{"margin-left":"20px",flex:"1",height:"710px",border:"solid 1px #ddd"}},[a("div",{staticStyle:{height:"50px","line-height":"50px","border-bottom":"solid 1px #ddd","padding-left":"20px"}},[e._v(" 智能训练记录 ")]),0===e.tableData.length?a("el-empty",{attrs:{description:"暂无数据"}}):e._e(),e.tableData.length>0?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"courseId",formatter:e.courseFormatter,label:"学科",width:"120"}}),a("el-table-column",{attrs:{width:"100"},scopedSlots:e._u([{key:"default",fn:function({row:t}){return[a("router-link",{attrs:{target:"_blank",to:{path:"/exam/paper",query:{id:t.id}}}},[a("el-button",{attrs:{type:"text",size:"small"}},[e._v("开始测试")])],1)]}}],null,!1,4246812728)})],1):e._e(),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.total}})],1)],1)])},r=[],l=t(7421),i=t(9457),p={data(){return{queryParam:{pageIndex:1,pageSize:10},paramData:{},courseType:[],tableData:[],rules:{courseId:[{required:!0,message:"请选择课程",trigger:"blur"}]},total:0}},created(){l.Z.getCourseList().then((e=>this.courseType=e.data)),this.search()},methods:{search(){i.Z.getTestPage(this.queryParam).then((e=>{this.tableData=e.data.list,this.total=e.data.total}))},submitForm(){this.$refs.paramData.validate((e=>{e&&(this.paramData.singleChoice+this.paramData.shortAnswer+this.paramData.gapFilling+this.paramData.multipleChoice+this.paramData.trueFalse===0?this.$message.error("请至少选择一题"):i.Z.getTest(this.paramData).then((e=>{200!==e.code?this.$message.error(e.message):(this.$message.success("试卷生成成功"),this.search(),this.paramData={})})))}))},courseTypeTo(e,a){for(let t of e)if(t.id===a)return t.name},courseFormatter(e){return this.courseTypeTo(this.courseType,e.courseId)}}},o=p,d=t(1001),c=(0,d.Z)(o,s,r,!1,null,"339db1da",null),n=c.exports},9457:function(e,a,t){var s=t(4471);a["Z"]={myExams:()=>(0,s.v_)("/api/student/exam/paper/page"),handleExam:e=>(0,s.v_)("/api/student/exam/paper/answerSubmit",e),myScore:e=>(0,s.v_)("/api/student/score/page",e),getErrorQuestion:e=>(0,s.v_)("/api/student/question/error/page",e),getTestPage:e=>(0,s.v_)("/api/student/test/page",e),getTestPaperById:e=>(0,s.v_)("/api/student/test/select/"+e),getTest:e=>(0,s.v_)("/api/student/test/create",e)}},7421:function(e,a,t){var s=t(4471);a["Z"]={getMyTeachCourseClass:e=>(0,s.v_)("/api/teacher/course/class/page",e),getMyTeachCourse:e=>(0,s.v_)("/api/admin/subject/page",e),getMyTeachCourseList:()=>(0,s.v_)("/api/teacher/subject/list"),getCourseList:()=>(0,s.v_)("/api/subject/list"),getMyTeachCourseClassStudents:e=>(0,s.v_)("/api/teacher/course/stu/page",e),removeStudentFromClass:(e,a)=>(0,s.v_)("/api/teacher/remove/stu/"+e+"/"+a),addStudentToClass:(e,a)=>(0,s.v_)("/api/teacher/add/stu/"+e+"/"+a),addMyTeachCourseClass:e=>(0,s.v_)("/api/teacher/course/class/edit",e),getClassInfo:e=>(0,s.v_)("/api/teacher/course/class/"+e),addStudentWithClass:(e,a)=>(0,s.v_)("/api/teacher/add/stu/"+a,e),getClassList:()=>(0,s.v_)("/api/class/list"),getMyCourseClassList:()=>(0,s.v_)("/api/teacher/course/class/list"),questionEdit:e=>(0,s.v_)("/api/question/edit",e),questionPage:e=>(0,s.v_)("/api/question/page",e),getQuestionById:e=>(0,s.v_)("/api/question/select/"+e),delQuestionById:e=>(0,s.v_)("/api/question/delete/"+e),paperEdit:e=>(0,s.v_)("/api/exam/paper/edit",e),paperPage:e=>(0,s.v_)("/api/exam/paper/page",e),getPaperById:e=>(0,s.v_)("/api/exam/paper/select/"+e),delPaperById:e=>(0,s.v_)("/api/exam/paper/delete/"+e),selectStudentPaperAnswers:e=>(0,s.v_)("/api/admin/examPaperAnswer/answer/"+e),releaseExamPage:e=>(0,s.v_)("/api/exam/release/page",e),releaseExamEdit:e=>(0,s.v_)("/api/exam/release/edit",e),getReleaseExamById:e=>(0,s.v_)("/api/exam/release/select/"+e),selectStudentPageAnswers:e=>(0,s.v_)("/api/admin/examPaperAnswer/page",e),selectReleaseExamPaper:e=>(0,s.v_)("/api/exam/release/paper/page",e),correctPaper:e=>(0,s.v_)("/api/admin/examPaperAnswer/answer/correct",e),autoCreatePaper:e=>(0,s.v_)("/api/exam/paper/autoCreatePaper",e)}}}]);
//# sourceMappingURL=9328.957fbe3c.js.map