"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[8345,8972,8943],{1098:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{top:"10vh",title:e.dialogTitle,center:"",visible:e.showClassDialog,"before-close":e.handleConfirm,width:"30%"},on:{"update:visible":function(t){e.showClassDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[t("span",{staticClass:"dialog-footer"},[t("el-button",{on:{click:e.handleConfirm}},[e._v("确认")]),t("el-button",{on:{click:e.handleDialogClose}},[e._v("取消")])],1)]},proxy:!0}])},[t("el-form",{attrs:{model:e.form,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"班级名称",prop:"className"}},[t("el-input",{model:{value:e.form.className,callback:function(t){e.$set(e.form,"className",t)},expression:"form.className"}})],1),t("el-form-item",{attrs:{label:"所属课程：",prop:"subjectId"}},[t("el-select",{attrs:{size:"medium",clearable:""},model:{value:e.form.subjectId,callback:function(t){e.$set(e.form,"subjectId",t)},expression:"form.subjectId"}},e._l(e.subjectList,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),null!=e.form.createTime?t("el-form-item",{attrs:{label:"创建时间",prop:"createTime"}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",disabled:""},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1):e._e()],1)],1)],1)},i=[],s=(a(4325),a(7421)),n={data(){return{form:{}}},props:["id","showClassDialog","dialogTitle","subjectList"],watch:{id:{handler(e,t){-1!=e&&e?this.search(e):this.form={}}}},methods:{search(e){s.Z.getClassInfo(e).then((e=>{this.form=e.data}))},handleConfirm(){s.Z.addMyTeachCourseClass(this.form).then((e=>{this.$emit("initClassList",null),this.handleDialogClose(),this.$message.success("添加成功")}))},handleDialogClose(){this.$emit("close")}}},o=n,r=a(1001),u=(0,r.Z)(o,l,i,!1,null,null,null),c=u.exports},8972:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var l=function(){var e=this,t=e._self._c;return t("el-row",[t("el-form",{ref:"queryForm",attrs:{model:e.queryParam,inline:!0}},[t("el-form-item",{attrs:{label:"班级名称："}},[t("el-input",{attrs:{placeholder:"课程名称",size:"medium",clearable:""},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.handleSelect}},[e._v("查询")]),t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.handleDialogValue(null)}}},[e._v("新增")]),t("el-popconfirm",{attrs:{title:"您确定批量删除这些记录吗？"},on:{confirm:e.handleDelete},scopedSlots:e._u([{key:"reference",fn:function(){return[t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"medium"}},[e._v("批量删除")])]},proxy:!0}])})],1)],1)],1)},i=[],s={data(){return{queryParam:{pageIndex:1,pageSize:10}}},methods:{handleDialogValue(e){this.$emit("handleEdit",e)},handleDelete(){this.$emit("handleDelete",null)},handleSelect(){this.$emit("initList",this.queryParam)}}},n=s,o=a(1001),r=(0,o.Z)(n,l,i,!1,null,null,null),u=r.exports},3455:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var l=function(){var e=this,t=e._self._c;return t("div",[t("handle-button",{on:{handleEdit:e.handleDialogOpen}}),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{staticStyle:{"text-align":"center"},attrs:{"reserve-selection":"",type:"selection",align:"center",width:"60",selectable:e.checkSelectable}}),t("el-table-column",{attrs:{prop:"className",label:"班级名称",width:"230"}}),t("el-table-column",{attrs:{prop:"subjectName",label:"所属课程",width:"150"}}),t("el-table-column",{attrs:{prop:"classCount",align:"center",label:"班级人数",width:"180"}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180"}}),t("el-table-column",{attrs:{prop:"remark",label:"简介"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"330"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-s-tools",plain:""},on:{click:function(t){return e.handleStuDialogOpen(a.row.id)}}},[e._v("查看班级")]),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"success",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.handleDialogOpen(a.row.id)}}}),t("el-popconfirm",{attrs:{title:"您确定要删除这条记录吗？"},on:{confirm:function(t){return e.handleDelete(a.row.id)}},scopedSlots:e._u([{key:"reference",fn:function(){return[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"danger",icon:"el-icon-delete-solid"}})]},proxy:!0}],null,!0)})]}}])})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,queryParam:e.queryParam,page:e.queryParam.pageIndex,limit:e.queryParam.pageSize},on:{"update:page":function(t){return e.$set(e.queryParam,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParam,"pageSize",t)},pagination:e.search}}),t("class-dialog",{attrs:{id:e.id,subjectList:e.subjectList,dialogTitle:e.dialogTitle,showClassDialog:e.showClassDialog},on:{initClassList:e.search,close:e.handleDialogClose}}),t("stu-dialog",{attrs:{showStuDialog:e.showStuDialog,id:e.id},on:{close:e.handleStuDialogClose}})],1)},i=[],s=(a(7658),a(8441)),n=a(7421),o=a(8972),r=a(1098),u=a(7834),c={components:{Pagination:s.Z,HandleButton:o["default"],ClassDialog:r["default"],stuDialog:u["default"]},data(){return{tableData:[],queryParam:{pageIndex:1,pageSize:10},ids:[],total:0,showClassDialog:!1,dialogTitle:"",showStuDialog:!1,id:null,subjectList:[]}},created(){this.search()},methods:{search(e){null!=e&&(this.queryParam=e),n.Z.getMyTeachCourseClass(this.queryParam).then((e=>{200===e.code&&(this.tableData=e.data.list,this.total=e.data.total)})),n.Z.getMyTeachCourseList().then((e=>{this.subjectList=e.data}))},handleDelete(e){if(null!=e&&-1==this.ids.findIndex((t=>t===e))&&this.ids.push(e),0===this.ids.length)return this.$message.error("请先选择删除班级信息！！"),!1;eduApi.removeSubjectByIds(this.ids).then((e=>{200==e.code?(this.$message.success("删除成功"),this.search(),this.ids=[]):this.$message.error(e.message)}))},handleStuDialogOpen(e){this.id=e,this.showStuDialog=!0},handleDialogOpen(e){e?(this.id=e,this.dialogTitle="修改班级信息"):(this.id=-1,this.dialogTitle="添加班级信息"),this.showClassDialog=!0},handleDialogClose(){this.id=null,this.showClassDialog=!1},handleStuDialogClose(){this.search(null),this.showStuDialog=!1},handleSelectionChange(e){this.ids=e.map((e=>e.id))},checkSelectable(){return!0}}},d=c,h=a(1001),m=(0,h.Z)(d,l,i,!1,null,null,null),p=m.exports}}]);
//# sourceMappingURL=8345.89cb2420.js.map