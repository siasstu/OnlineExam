"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[4715,7997,8943],{8441:function(e,t,a){a.d(t,{Z:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,layout:e.layout,"page-sizes":e.pageSizes,total:e.total,"page-size":e.pageSize},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}},"el-pagination",e.$attrs,!1))],1)},r=[],i={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default(){return[5,10,20,30,50]}},queryParam:{},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get(){return this.page},set(e){this.$emit("update:page",e)}},pageSize:{get(){return this.limit},set(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange(e){this.queryParam.pageSize=e,this.$emit("pagination",this.queryParam)},handleCurrentChange(e){this.queryParam.pageIndex=e,this.$emit("pagination",this.queryParam)}}},l=i,s=a(1001),o=(0,s.Z)(l,n,r,!1,null,"fcd24848",null),u=o.exports},7997:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("el-row",[t("el-form",{ref:"queryForm",attrs:{model:e.queryParam,inline:!0}},[t("el-form-item",{attrs:{label:"工号/学号："}},[t("el-input",{attrs:{size:"medium",placeholder:"工号/学号",clearable:""},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.handleSelect}},[e._v("查询")]),t("el-popconfirm",{attrs:{title:"您确定批量删除这些记录吗？"},on:{confirm:function(t){return e.handleDelete(null)}},scopedSlots:e._u([{key:"reference",fn:function(){return[t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"medium"}},[e._v("批量删除")])]},proxy:!0}])})],1)],1)],1)},r=[],i={data(){return{queryParam:{pageIndex:1,pageSize:10}}},methods:{handleSelect(){this.$emit("initList",this.queryParam)},handleDelete(){this.$emit("handleDelete",null)}}},l=i,s=a(1001),o=(0,s.Z)(l,n,r,!1,null,"f926e0de",null),u=o.exports},4715:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var n=function(){var e=this,t=e._self._c;return t("div",[t("handleButton",{on:{initList:e.search,handleDelete:e.handleDelete}}),t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{staticStyle:{"text-align":"center"},attrs:{"reserve-selection":"",type:"selection",align:"center",width:"60",selectable:e.checkSelectable}}),t("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),t("el-table-column",{attrs:{prop:"username",label:"学号/工号",width:"130"}}),t("el-table-column",{attrs:{prop:"ip",label:"IP地址",width:"120"}}),t("el-table-column",{attrs:{prop:"location",label:"登录地址",width:"100"}}),t("el-table-column",{attrs:{prop:"browser",label:"浏览器",width:"100"}}),t("el-table-column",{attrs:{prop:"os",label:"操作系统",width:"280"}}),t("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"65"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[t("el-tag",{attrs:{size:"small",type:1===a.status?"danger":"success"}},[e._v(e._s(1===a.status?"失败":"成功"))])]}}])}),t("el-table-column",{attrs:{prop:"createTime",label:"登录时间",width:"160"}}),t("el-table-column",{attrs:{prop:"info",label:"登录详情",width:"200"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"330"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popconfirm",{attrs:{title:"您确定要删除这条记录吗？"},on:{confirm:function(t){return e.handleDelete(a.row.id)}},scopedSlots:e._u([{key:"reference",fn:function(){return[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{size:"mini",type:"danger",icon:"el-icon-delete-solid"}})]},proxy:!0}],null,!0)})]}}])})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,queryParam:e.queryParam,pageIndex:e.queryParam.pageIndex,pageSize:e.queryParam.pageSize},on:{"update:pageIndex":function(t){return e.$set(e.queryParam,"pageIndex",t)},"update:page-index":function(t){return e.$set(e.queryParam,"pageIndex",t)},"update:pageSize":function(t){return e.$set(e.queryParam,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryParam,"pageSize",t)},pagination:e.search}})],1)},r=[],i=(a(7658),a(8441)),l=a(7997),s=a(4325),o={components:{Pagination:i.Z,handleButton:l["default"]},data(){return{tableData:[],queryParam:{pageIndex:1,pageSize:10},total:0,ids:[]}},created(){this.search()},methods:{search(e){null!=e&&(this.queryParam=e),s.Z.loginLog(this.queryParam).then((e=>{200===e.code?(this.tableData=e.data.list,this.total=e.data.total):this.$message.error(e.message)}))},checkSelectable(){return!0},handleSelectionChange(e){this.ids=e.map((e=>e.id))},handleDelete(e){if(null!=e&&-1==this.ids.findIndex((t=>t===e))&&this.ids.push(e),0===this.ids.length)return this.$message.error("请先选择删除登录记录！！"),!1;s.Z.removeUserLoginLogByIds(this.ids).then((e=>{200==e.code?(this.$message.success("删除成功"),this.search(),this.clearSelection()):this.$message.error(e.message)}))},clearSelection(){this.$refs.multipleTable.clearSelection(),this.ids=[]}}},u=o,d=a(1001),p=(0,d.Z)(u,n,r,!1,null,"cadaa648",null),c=p.exports},4325:function(e,t,a){var n=a(4471);t["Z"]={sectionKnowsList:e=>(0,n.v_)("/api/admin/section/knows/"+e),subjectPage:e=>(0,n.v_)("/api/admin/subject/page",e),getSubjectByid:e=>(0,n.v_)("/api/admin/subject/select/"+e),subjectEdit:e=>(0,n.v_)("/api/admin/subject/edit",e),deleteSubjectById:e=>(0,n.v_)("/api/admin/subject/delete/"+e),removeSubjectByIds:e=>(0,n.v_)("/api/admin/subject/delete",e),removeKnows:e=>(0,n.v_)("/api/admin/section/knows/delete/"+e),fileUpload:e=>(0,n.Wi)("/api/admin/model/upload",e),exportUser:e=>(0,n.GR)("/api/admin/model/download",e),semesterList:()=>(0,n.v_)("/api/admin/subject/semester/list"),classPage:e=>(0,n.v_)("/api/class/page",e),loginLog:e=>(0,n.v_)("/sys/logs/login/log/page",e),operationLog:e=>(0,n.v_)("/sys/logs/operation/log/page",e),removeUserLoginLogByIds:e=>(0,n.v_)("/sys/logs/login/log/delete",e),removeUserOperationLogByIds:e=>(0,n.v_)("/sys/logs/operation/log/delete",e),getClassStudents:e=>(0,n.v_)("/api/class/stu/page",e),getStudentsByRole:e=>(0,n.v_)("/api/class/stuPage",e),getClassInfo:e=>(0,n.v_)("/api/class/"+e),removeStudentFromClass:(e,t)=>(0,n.v_)("/api/class/remove/stu/"+e+"/"+t),addStudentToClass:(e,t)=>(0,n.v_)("/api/class/add/stu/"+e+"/"+t)}}}]);
//# sourceMappingURL=4715.1eba0482.js.map