"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[8162,8943],{8441:function(e,t,a){a.d(t,{Z:function(){return o}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,layout:e.layout,"page-sizes":e.pageSizes,total:e.total,"page-size":e.pageSize},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}},"el-pagination",e.$attrs,!1))],1)},n=[],l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default(){return[5,10,20,30,50]}},queryParam:{},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get(){return this.page},set(e){this.$emit("update:page",e)}},pageSize:{get(){return this.limit},set(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange(e){this.queryParam.pageSize=e,this.$emit("pagination",this.queryParam)},handleCurrentChange(e){this.queryParam.pageIndex=e,this.$emit("pagination",this.queryParam)}}},s=l,i=a(1001),u=(0,i.Z)(s,r,n,!1,null,"fcd24848",null),o=u.exports},8162:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var r=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{top:"10vh",title:"班级学生详情",center:"",visible:e.showStuDialog,"before-close":e.handleDialogClose},on:{"update:visible":function(t){e.showStuDialog=t}}},[t("el-form",{ref:"queryForm",attrs:{model:e.queryParam,inline:!0}},[t("el-form-item",{attrs:{label:"姓名："}},[t("el-input",{attrs:{placeholder:"姓名",clearable:""},model:{value:e.queryParam.realName,callback:function(t){e.$set(e.queryParam,"realName",t)},expression:"queryParam.realName"}})],1),t("el-form-item",{attrs:{label:"学号："}},[t("el-input",{attrs:{placeholder:"学号",clearable:""},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search(null)}}},[e._v("查询")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addStudentForm}},[e._v("添加学生")])],1)],1),t("el-scrollbar",{staticStyle:{height:"calc(100vh - 405px)"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",fit:"","highlight-current-row":""}},[t("el-table-column",{attrs:{label:"Id",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.queryParam.pageIndex-1)*e.queryParam.pageSize+(t.$index+1))+" ")]}}])}),t("el-table-column",{attrs:{prop:"username",label:"用户名",align:"center",width:"140"}}),t("el-table-column",{attrs:{prop:"realName",label:"真实姓名",align:"center",width:"130"}}),t("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号",align:"center",width:"120"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"160px"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[t("el-button",{staticClass:"link-left",attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.removeStudent(a.username)}}},[e._v("移出")])]}}])})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,queryParam:e.queryParam,page:e.queryParam.pageIndex,limit:e.queryParam.pageSize},on:{"update:page":function(t){return e.$set(e.queryParam,"pageIndex",t)},"update:limit":function(t){return e.$set(e.queryParam,"pageSize",t)},pagination:e.search}})],1)],1),t("el-dialog",{attrs:{visible:e.studentPage.showDialog,title:"添加学生",top:"3vh",width:"60%"},on:{"update:visible":function(t){return e.$set(e.studentPage,"showDialog",t)}}},[t("el-form",{attrs:{model:e.studentPage.queryParam,inline:!0}},[t("el-form-item",{attrs:{label:"学号："}},[t("el-input",{model:{value:e.studentPage.queryParam.username,callback:function(t){e.$set(e.studentPage.queryParam,"username",t)},expression:"studentPage.queryParam.username"}})],1),t("el-form-item",{attrs:{label:"姓名："}},[t("el-input",{model:{value:e.studentPage.queryParam.realName,callback:function(t){e.$set(e.studentPage.queryParam,"realName",t)},expression:"studentPage.queryParam.realName"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.studentSearch(null)}}},[e._v("查询")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.studentPage.tableData,border:"",fit:"","highlight-current-row":""}},[t("el-table-column",{attrs:{label:"Id",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.studentPage.queryParam.pageIndex-1)*e.studentPage.queryParam.pageSize+(t.$index+1))+" ")]}}])}),t("el-table-column",{attrs:{prop:"username",label:"学号",width:"130"}}),t("el-table-column",{attrs:{prop:"realName",label:"真实姓名",width:"130"}}),t("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号",width:"130"}}),t("el-table-column",{attrs:{prop:"phoneNumber",label:"邮箱",width:"130"}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"160px"},scopedSlots:e._u([{key:"default",fn:function({row:a}){return[t("el-button",{staticClass:"link-left",attrs:{size:"mini",type:"success"},on:{click:function(t){return e.addStudents(a.username)}}},[e._v("添加")])]}}])})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.studentPage.total>0,expression:"studentPage.total > 0"}],attrs:{total:e.studentPage.total,queryParam:e.studentPage.queryParam,page:e.studentPage.queryParam.pageIndex,limit:e.studentPage.queryParam.pageSize},on:{"update:page":function(t){return e.$set(e.studentPage.queryParam,"pageIndex",t)},"update:limit":function(t){return e.$set(e.studentPage.queryParam,"pageSize",t)},pagination:e.studentSearch}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.studentPage.showDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.studentPage.showDialog=!1}}},[e._v("确定")])],1)],1)],1)},n=[],l=a(4325),s=a(8441),i={components:{Pagination:s.Z},data(){return{queryParam:{pageIndex:1,pageSize:10},tableData:[],total:0,studentPage:{tableData:[],queryParam:{roleId:22,pageIndex:1,pageSize:10},total:0,showDialog:!1}}},props:["id","showStuDialog"],watch:{id:{handler(e,t){this.search()}}},methods:{search(e){null!=e&&(this.queryParam=e),this.queryParam.classId=this.id,l.Z.getClassStudents(this.queryParam).then((e=>{this.tableData=e.data.list,this.total=e.data.total}))},removeStudent(e){l.Z.removeStudentFromClass(e,this.id).then((e=>{this.search(),this.$message.success("操作成功")}))},addStudents(e){l.Z.addStudentToClass(e,this.id).then((e=>{this.search(),this.$message.success("操作成功")}))},handleDialogClose(){this.$emit("close")},handleConfirm(){},addStudentForm(){this.studentSearch(),this.studentPage.showDialog=!0},studentSearch(e){null!=e&&(this.studentPage.queryParam=e),l.Z.getStudentsByRole(this.studentPage.queryParam).then((e=>{this.studentPage.tableData=e.data.list,this.studentPage.total=e.data.total}))}}},u=i,o=a(1001),d=(0,o.Z)(u,r,n,!1,null,null,null),p=d.exports},4325:function(e,t,a){var r=a(4471);t["Z"]={sectionKnowsList:e=>(0,r.v_)("/api/admin/section/knows/"+e),subjectPage:e=>(0,r.v_)("/api/admin/subject/page",e),getSubjectByid:e=>(0,r.v_)("/api/admin/subject/select/"+e),subjectEdit:e=>(0,r.v_)("/api/admin/subject/edit",e),deleteSubjectById:e=>(0,r.v_)("/api/admin/subject/delete/"+e),removeSubjectByIds:e=>(0,r.v_)("/api/admin/subject/delete",e),removeKnows:e=>(0,r.v_)("/api/admin/section/knows/delete/"+e),fileUpload:e=>(0,r.Wi)("/api/admin/model/upload",e),exportUser:e=>(0,r.GR)("/api/admin/model/download",e),semesterList:()=>(0,r.v_)("/api/admin/subject/semester/list"),classPage:e=>(0,r.v_)("/api/class/page",e),loginLog:e=>(0,r.v_)("/sys/logs/login/log/page",e),operationLog:e=>(0,r.v_)("/sys/logs/operation/log/page",e),removeUserLoginLogByIds:e=>(0,r.v_)("/sys/logs/login/log/delete",e),removeUserOperationLogByIds:e=>(0,r.v_)("/sys/logs/operation/log/delete",e),getClassStudents:e=>(0,r.v_)("/api/class/stu/page",e),getStudentsByRole:e=>(0,r.v_)("/api/class/stuPage",e),getClassInfo:e=>(0,r.v_)("/api/class/"+e),removeStudentFromClass:(e,t)=>(0,r.v_)("/api/class/remove/stu/"+e+"/"+t),addStudentToClass:(e,t)=>(0,r.v_)("/api/class/add/stu/"+e+"/"+t)}}}]);
//# sourceMappingURL=8162.2b49e139.js.map