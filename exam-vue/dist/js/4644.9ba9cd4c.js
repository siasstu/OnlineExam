"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[4644,8943],{8441:function(e,t,a){a.d(t,{Z:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,layout:e.layout,"page-sizes":e.pageSizes,total:e.total,"page-size":e.pageSize},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}},"el-pagination",e.$attrs,!1))],1)},s=[],r={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default(){return[5,10,20,30,50]}},queryParam:{},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get(){return this.page},set(e){this.$emit("update:page",e)}},pageSize:{get(){return this.limit},set(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange(e){this.queryParam.pageSize=e,this.$emit("pagination",this.queryParam)},handleCurrentChange(e){this.queryParam.pageIndex=e,this.$emit("pagination",this.queryParam)}}},n=r,o=a(1001),l=(0,o.Z)(n,i,s,!1,null,"fcd24848",null),u=l.exports},4644:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});a(7658);var i=function(){var e=this,t=e._self._c;return t("el-scrollbar",{staticStyle:{height:"calc(100vh - 120px)",width:"100%","background-color":"#fff","padding-top":"20px"}},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rulers,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"课程：",prop:"courseId"}},[t("el-select",{attrs:{clearable:""},model:{value:e.form.courseId,callback:function(t){e.$set(e.form,"courseId",t)},expression:"form.courseId"}},e._l(e.courseType,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),t("el-form-item",{attrs:{label:"试卷名称：",prop:"name"}},[t("el-input",{staticStyle:{width:"99%"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._l(e.form.titleItems,(function(a,i){return t("el-form-item",{key:i,attrs:{label:"标题"+(i+1)+"：",prop:"titleItems.name"}},[t("el-select",{attrs:{clearable:""},model:{value:a.name,callback:function(t){e.$set(a,"name",t)},expression:"titleItem.name"}},e._l(e.questionType,(function(e){return t("el-option",{key:e.id,attrs:{value:e.name,label:e.name}})})),1),e._v(" 每题分数： "),t("el-select",{attrs:{prop:"score",clearable:""},model:{value:a.score,callback:function(t){e.$set(a,"score",t)},expression:"titleItem.score"}},e._l(10,(function(e){return t("el-option",{key:e,attrs:{value:e,label:e}})})),1),t("el-button",{staticClass:"link-left",staticStyle:{"margin-left":"20px"},attrs:{type:"text",size:"mini"},on:{click:function(t){return e.addQuestion(a)}}},[e._v(" 添加题目 ")]),t("el-button",{staticClass:"link-left",attrs:{type:"text",size:"mini"},on:{click:function(t){return e.form.titleItems.splice(i,1)}}},[e._v("删除")]),0!==a.questionItems.length?t("el-card",{staticClass:"exampaper-item-box",staticStyle:{width:"99%"}},e._l(a.questionItems,(function(i,s){return t("el-form-item",{key:s,staticStyle:{"margin-bottom":"15px"},attrs:{label:"题目"+(s+1)+"："}},[t("el-row",[t("el-col",{attrs:{span:23}},[t("h3",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(i.title))]),e._l(i.items,(function(a,i){return t("span",{key:i,staticStyle:{padding:"0 15px 0 5px"}},[t("span",{staticStyle:{"font-weight":"600"}},[e._v(" "+e._s(a.prefix)+" ")]),e._v(" ： "+e._s(a.content)+" ")])}))],2),t("el-col",{attrs:{span:1}},[t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return a.questionItems.splice(s,1)}}},[e._v("删除 ")])],1)],1)],1)})),1):e._e()],1)})),t("el-form-item",{attrs:{label:"建议时长：",prop:"suggestTime"}},[t("el-input",{staticStyle:{width:"99%"},attrs:{placeholder:"分钟"},model:{value:e.form.suggestTime,callback:function(t){e.$set(e.form,"suggestTime",t)},expression:"form.suggestTime"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),t("el-button",{attrs:{type:"success"},on:{click:e.addTitle}},[e._v("添加标题")]),t("el-button",{on:{click:function(t){return e.$router.push("/teacher/paper")}}},[e._v("取消")])],1)],2),t("el-dialog",{attrs:{visible:e.questionPage.showDialog,width:"70%"},on:{"update:visible":function(t){return e.$set(e.questionPage,"showDialog",t)}}},[t("el-form",{attrs:{model:e.questionPage.queryParam,inline:!0}},[t("el-form-item",{attrs:{label:"ID："}},[t("el-input",{attrs:{clearable:""},model:{value:e.questionPage.queryParam.id,callback:function(t){e.$set(e.questionPage.queryParam,"id",t)},expression:"questionPage.queryParam.id"}})],1),t("el-form-item",{attrs:{label:"题型："}},[t("el-select",{attrs:{clearable:""},model:{value:e.questionPage.queryParam.questionType,callback:function(t){e.$set(e.questionPage.queryParam,"questionType",t)},expression:"questionPage.queryParam.questionType"}},e._l(e.questionType,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.queryForm}},[e._v("查询")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"35"}}),t("el-table-column",{attrs:{prop:"id",label:"Id",width:"60px"}}),t("el-table-column",{attrs:{prop:"questionType",label:"题型",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.questionType?t("span",[e._v("单选题")]):e._e(),2==a.row.questionType?t("span",[e._v("多选题")]):e._e(),3==a.row.questionType?t("span",[e._v("判断题")]):e._e(),4==a.row.questionType?t("span",[e._v("填空题")]):e._e(),5==a.row.questionType?t("span",[e._v("简答题")]):e._e()]}}])}),t("el-table-column",{attrs:{prop:"shortTitle",label:"题干","show-overflow-tooltip":""}})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.questionPage.total>0,expression:"questionPage.total > 0"}],attrs:{total:e.questionPage.total,page:e.questionPage.queryParam.pageIndex,limit:e.questionPage.queryParam.pageSize},on:{"update:page":function(t){return e.$set(e.questionPage.queryParam,"pageIndex",t)},"update:limit":function(t){return e.$set(e.questionPage.queryParam,"pageSize",t)},pagination:e.search}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.questionPage.showDialog=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirmQuestionSelect}},[e._v("确定")])],1)],1)],1)},s=[],r=a(8441),n=a(7421),o={components:{Pagination:r.Z},data(){return{form:{id:null,courseId:null,limitDateTime:[],name:"",suggestTime:null,titleItems:[]},questionType:[{id:1,name:"单选题"},{id:2,name:"多选题"},{id:3,name:"判断题"},{id:4,name:"填空题"},{id:5,name:"简答题"}],courseType:[],questionPage:{multipleSelection:[],queryParam:{id:null,courseId:1,questionType:null,pageIndex:1,pageSize:5},total:0,showDialog:!1},tableData:[],currentTitleItem:null,rulers:{courseId:[{required:!0,message:"请选择课程",trigger:"change"}],suggestTime:[{required:!0,message:"请输入建议时长",trigger:"blur"}],name:[{required:!0,message:"请输入试卷名称",trigger:"blur"}]}}},created(){let e=this.$route.query.id;n.Z.getMyTeachCourseList().then((e=>this.courseType=e.data)),e&&0!==parseInt(e)&&n.Z.getPaperById(e).then((e=>{this.form=e.data}))},methods:{submitForm(){this.$refs.form.validate((e=>{e&&n.Z.paperEdit(this.form).then((e=>{200===e.code&&(this.$message.success("添加成功"),this.$router.push("/teacher/paper"))}))}))},addTitle(){this.form.titleItems.push({name:"",questionItems:[]})},addQuestion(e){this.currentTitleItem=e,this.questionPage.showDialog=!0,this.search()},removeTitleItem(e){this.form.titleItems.remove(e)},removeQuestion(e,t){e.questionItems.remove(t)},queryForm(){this.questionPage.queryParam.pageIndex=1,this.search()},confirmQuestionSelect(){this.questionPage.multipleSelection.forEach((e=>{n.Z.getQuestionById(e.id).then((e=>{this.currentTitleItem.questionItems.push(e.data)}))})),this.questionPage.showDialog=!1},search(){this.questionPage.queryParam.courseId=this.form.courseId,n.Z.questionPage(this.questionPage.queryParam).then((e=>{const t=e.data;this.tableData=t.list,this.questionPage.total=t.total,this.questionPage.queryParam.pageIndex=t.pageNum}))},handleSelectionChange(e){this.questionPage.multipleSelection=e}}},l=o,u=a(1001),p=(0,u.Z)(l,i,s,!1,null,null,null),c=p.exports},7421:function(e,t,a){var i=a(4471);t["Z"]={getMyTeachCourseClass:e=>(0,i.v_)("/api/teacher/course/class/page",e),getMyTeachCourse:e=>(0,i.v_)("/api/admin/subject/page",e),getMyTeachCourseList:()=>(0,i.v_)("/api/teacher/subject/list"),getCourseList:()=>(0,i.v_)("/api/subject/list"),getMyTeachCourseClassStudents:e=>(0,i.v_)("/api/teacher/course/stu/page",e),removeStudentFromClass:(e,t)=>(0,i.v_)("/api/teacher/remove/stu/"+e+"/"+t),addStudentToClass:(e,t)=>(0,i.v_)("/api/teacher/add/stu/"+e+"/"+t),addMyTeachCourseClass:e=>(0,i.v_)("/api/teacher/course/class/edit",e),getClassInfo:e=>(0,i.v_)("/api/teacher/course/class/"+e),addStudentWithClass:(e,t)=>(0,i.v_)("/api/teacher/add/stu/"+t,e),getClassList:()=>(0,i.v_)("/api/class/list"),getMyCourseClassList:()=>(0,i.v_)("/api/teacher/course/class/list"),questionEdit:e=>(0,i.v_)("/api/question/edit",e),questionPage:e=>(0,i.v_)("/api/question/page",e),getQuestionById:e=>(0,i.v_)("/api/question/select/"+e),delQuestionById:e=>(0,i.v_)("/api/question/delete/"+e),paperEdit:e=>(0,i.v_)("/api/exam/paper/edit",e),paperPage:e=>(0,i.v_)("/api/exam/paper/page",e),getPaperById:e=>(0,i.v_)("/api/exam/paper/select/"+e),delPaperById:e=>(0,i.v_)("/api/exam/paper/delete/"+e),selectStudentPaperAnswers:e=>(0,i.v_)("/api/admin/examPaperAnswer/answer/"+e),releaseExamPage:e=>(0,i.v_)("/api/exam/release/page",e),releaseExamEdit:e=>(0,i.v_)("/api/exam/release/edit",e),getReleaseExamById:e=>(0,i.v_)("/api/exam/release/select/"+e),selectStudentPageAnswers:e=>(0,i.v_)("/api/admin/examPaperAnswer/page",e),selectReleaseExamPaper:e=>(0,i.v_)("/api/exam/release/paper/page",e),correctPaper:e=>(0,i.v_)("/api/admin/examPaperAnswer/answer/correct",e),autoCreatePaper:e=>(0,i.v_)("/api/exam/paper/autoCreatePaper",e)}}}]);
//# sourceMappingURL=4644.9ba9cd4c.js.map